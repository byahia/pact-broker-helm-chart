
Pact-proker
===========

A Helm chart for Kubernetes to install Pact Broker

This chart will deploy the following a running instance of pact-broker, and optionally a postgresql database instance running on the same namespace.

## Installation
### Add the helm repository
```
$ helm repo add byahia http://byahia.github.io/pact-broker-helm-chart/
$ helm install pact byahia/pact-broker-helm-chart
```
### From source
```console
$ git clone https://github.com/byahia/pact-broker-helm-chart
$ cd ./charts/pact-broker
$ helm dep update
$ helm install --name myname --namespace mynamespace pact
```
## Development
Any help is welcome. Feel free to fork the repo and submit improvement and/or bugfixes.

### Testing
```console
$ make test
helm lint pact
==> Linting pact
Lint OK
1 chart(s) linted, no failures
```

## Configuration

The following table lists the configurable parameters of the Pact-proker chart and their default values.

| Parameter                | Description             | Default        |
| ------------------------ | ----------------------- | -------------- |
| `replicaCount` | Number of pod replicas to create | `1` |
| `image.repository` | docker image repository | `"pactfoundation/pact-broker"` |
| `image.name` | docker image name | `"pact-broker"` |
| `image.pullPolicy` | kubernetes pull policy | `"IfNotPresent"` |
| `image.restartPolicy` | kubernetes restart policy | `"Always"` |
| `image.port` | docker image port | `9292` |
| `global.annotations` | global annotations | `{}` |
| `appSettings.basicAuthentication.RWaccess.enabled` | Whether to enable or not a Read/Write access account | `false` |
| `appSettings.basicAuthentication.RWaccess.username` | Read/write account username | `"pactRW"` |
| `appSettings.basicAuthentication.RWaccess.password` | Read/write account password | `"PaCtBr0k3rRW"` |
| `appSettings.basicAuthentication.ROaccess.enabled` | Whether to enable or not a Read only access account | `false` |
| `appSettings.basicAuthentication.ROaccess.username` | Read only account username | `"pactRO"` |
| `appSettings.basicAuthentication.ROaccess.password` | Read only account username | `"PaCtBr0k3rRO"` |
| `service.type` | Service type. Cloud be "LoadBalancer", "ClusterIp", "NodePort" | `"LoadBalancer"` |
| `service.port` | Internal service default port | `80` |
| `service.annotations` | Service annotations | `{}` |
| `deployment.annotations` | Deployment annotations | `{}` |
| `postgresql.enabled` | Whether to install or not a postgresql database as dependency | `true` |
| `postgresql.postgresqlDatabase` | Default postgresql database name | `"pact"` |
| `postgresql.postgresqlPort` | Default postgresql database port | `5432` |
| `postgresql.postgresqlUsername` | Default postgresql database username | `"postgres"` |
| `postgresql.postgresqlPassword` | Default postgresql database password | `"jemf9rAKgD"` |
| `externalDB.enabled` | Whether to use or not an external database | `false` |
| `externalDB.endpoint` | External database endpoint | `""` |
| `externalDB.port` | External database port | `5432` |
| `externalDB.databaseName` | External database name | `"pact"` |
| `externalDB.userName` | External database username | `"pactDbUser"` |
| `externalDB.password` | External database password | `"pactDbPassword"` |



---
_Documentation generated by [Frigate](https://frigate.readthedocs.io)._

